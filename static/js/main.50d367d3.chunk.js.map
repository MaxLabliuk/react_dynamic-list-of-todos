{"version":3,"sources":["User.js","TodoItem.js","TodoList.js","App.js","apiFetch.js","index.js"],"names":["User","_ref","user","react_default","a","createElement","name","TodoItem","todo","id","title","src_User","completed","TodoList","getTodos","_useState","useState","_useState2","Object","slicedToArray","todos","setTodos","_useState3","_useState4","isLoading","setLoading","_useState5","_useState6","loaded","setLoaded","_useState7","_useState8","sortedColumn","setSortedColumn","_useState9","_useState10","error","setError","loadTodos","gotTodos","regenerator_default","async","_context","prev","next","awrap","sent","t0","stop","length","className","type","onClick","toConsumableArray","sort","b","localeCompare","status","map","src_TodoItem","key","App","src_TodoList","_ref2","users","Promise","all","fetch","then","responses","response","json","abrupt","objectSpread2","find","userId","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.50d367d3.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ user }) => <td>{user.name}</td>;\n\nUser.propTypes = {\n  user: PropTypes.string.isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\n\nconst TodoItem = ({ todo }) => (\n  <tr>\n    <td>{todo.id}</td>\n    <td>{todo.title}</td>\n    <User user={todo.user} />\n    <td>{todo.completed ? 'completed' : 'not completed'}</td>\n  </tr>\n);\n\nTodoItem.propTypes = {\n  todo: PropTypes.string.isRequired,\n};\n\nexport default TodoItem;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from './TodoItem';\n\nconst TodoList = ({ getTodos }) => {\n  const [todos, setTodos] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [sortedColumn, setSortedColumn] = useState('id');\n  const [error, setError] = useState(false);\n\n  const loadTodos = async() => {\n    try {\n      setLoading(true);\n\n      const gotTodos = await getTodos();\n\n      setTodos(gotTodos);\n      setLoading(false);\n      setLoaded(true);\n      setError(false);\n    } catch (e) {\n      setError(true);\n    }\n  };\n\n  const sortByTitle = (title) => {\n    if (sortedColumn !== title) {\n      setTodos([...todos].sort((a, b) => a.title.localeCompare(b.title)));\n      setSortedColumn(title);\n    } else {\n      setTodos([...todos].sort((a, b) => b.title.localeCompare(a.title)));\n      setSortedColumn('');\n    }\n  };\n\n  const sortByStatus = (status) => {\n    if (sortedColumn !== status) {\n      setTodos([...todos].sort((a, b) => a.completed - b.completed));\n      setSortedColumn(status);\n    } else {\n      setTodos([...todos].sort((a, b) => b.completed - a.completed));\n      setSortedColumn('');\n    }\n  };\n\n  const sortById = (id) => {\n    if (sortedColumn !== id) {\n      setTodos([...todos].sort((a, b) => b.id - a.id));\n      setSortedColumn(id);\n    } else {\n      setTodos([...todos].sort((a, b) => a.id - b.id));\n      setSortedColumn('');\n    }\n  };\n\n  const sortByUser = (user) => {\n    if (sortedColumn !== user) {\n      setTodos(\n        [...todos].sort((a, b) => a.user.name.localeCompare(b.user.name))\n      );\n      setSortedColumn(user);\n    } else {\n      setTodos(\n        [...todos].sort((a, b) => b.user.name.localeCompare(a.user.name))\n      );\n      setSortedColumn('');\n    }\n  };\n\n  return (\n    <div>\n      {todos.length === 0 && !error && (\n        <button className=\"button\" type=\"button\" onClick={loadTodos}>\n          Load\n        </button>\n      )}\n      {isLoading && !error && <p>Loading...</p>}\n      {loaded && !isLoading && (\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th onClick={sortById}>ID</th>\n              <th onClick={sortByTitle}>TITLE</th>\n              <th onClick={sortByUser}>USER</th>\n              <th onClick={sortByStatus}>STATUS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {todos.map(todo => (\n              <TodoItem todo={todo} key={todo.id} />\n            ))}\n          </tbody>\n        </table>\n      )}\n      {error && (\n        <div>\n          Error\n          <button className=\"button\" type=\"button\" onClick={loadTodos}>\n            Try again\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nTodoList.propTypes = {\n  getTodos: PropTypes.func.isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport './App.css';\nimport { fetchTodosAndUsers } from './apiFetch';\nimport TodoList from './TodoList';\n\nconst App = () => {\n  const todoWithUsers = async() => {\n    const [users,todos] = await fetchTodosAndUsers();\n\n    return todos.map(todo => ({\n      ...todo,\n      user:users.find(user => user.id === todo.userId)\n    }))\n  }\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"title\">Dynamic list of todos</h1>\n      <TodoList getTodos={todoWithUsers} />\n    </div>\n  );\n};\n\nexport default App;\n","const URL_USERS = 'https://jsonplaceholder.typicode.com/users';\nconst URL_TODOS = 'https://jsonplaceholder.typicode.com/todos';\n\nexport const fetchTodosAndUsers = () => Promise\n.all([fetch(URL_USERS),fetch(URL_TODOS)])\n.then(responses => Promise.all(responses.map(response => response.json())))\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}